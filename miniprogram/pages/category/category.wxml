<!-- category.wxml -->
<view class="container">
  <!-- 分类导航 -->
  <scroll-view class="category-nav" scroll-x="true" enhanced="true" show-scrollbar="false">
    <view
      class="category-item {{currentCategory === item.id ? 'active' : ''}}"
      wx:for="{{categories}}"
      wx:key="id"
      bindtap="switchCategory"
      data-id="{{item.id}}"
    >
      <image class="category-icon" src="{{item.icon}}" mode="aspectFit"></image>
      <text class="category-name">{{item.name}}</text>
    </view>
  </scroll-view>

  <!-- 分类描述 -->
  <view class="category-header">
    <view class="category-title">{{getCategoryName()}}</view>
    <view class="category-desc">
      {{getCategoryDescription()}}
    </view>
  </view>

  <!-- 菜谱列表 -->
  <view class="recipe-list">
    <block wx:if="{{recipeList.length > 0}}">
      <view
        class="recipe-item card"
        wx:for="{{recipeList}}"
        wx:key="id"
        bindtap="goToRecipe"
        data-id="{{item.id}}"
      >
        <image class="recipe-cover" src="{{item.cover}}" mode="aspectFill"></image>
        <view class="recipe-info">
          <view class="recipe-name">{{item.name}}</view>
          <view class="recipe-meta">
            <text class="recipe-difficulty">难度 {{item.difficulty}}</text>
            <text class="recipe-time">{{item.time}} 分钟</text>
          </view>
          <view class="recipe-tags">
            <text class="tag" wx:for="{{item.tags}}" wx:for-item="tag" wx:key="*this">{{tag}}</text>
          </view>
        </view>
      </view>
    </block>

    <!-- 空状态 -->
    <view class="empty-state" wx:if="{{!loading && recipeList.length === 0}}">
      <image class="empty-icon" src="/images/svg/empty.svg" mode="aspectFit"></image>
      <text class="empty-text">暂无菜谱</text>
    </view>
  </view>

  <!-- 加载状态 -->
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">加载中...</text>
  </view>

  <!-- 加载更多 -->
  <view class="load-more" wx:if="{{!loading && hasMore}}">
    <text>上拉加载更多</text>
  </view>

  <!-- 没有更多 -->
  <view class="no-more" wx:if="{{!loading && !hasMore && recipeList.length > 0}}">
    <text>没有更多了</text>
  </view>
</view>